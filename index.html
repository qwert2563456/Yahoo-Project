<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Slide Viewer</title>
<style>
  body {
    margin: 0;
    background: #000;
    overflow: hidden;
    touch-action: none;
  }

  .stage {
    width: 1280px;
    height: 720px;
    transform-origin: top left;
  }

  iframe {
    width: 1280px;
    height: 720px;
    border: none;
  }

  .fullscreen-btn {
    position: fixed;
    bottom: 16px;
    right: 16px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.3);
    padding: 10px 14px;
    border-radius: 8px;
    font-size: 14px;
    z-index: 9999;
  }
</style>
</head>
<body>

<div id="stage" class="stage">
  <iframe id="slide" src="slieds1.html"></iframe>
</div>

<button class="fullscreen-btn" onclick="toggleFullscreen()">⛶ Fullscreen</button>

<script>
const slides = [
  "slieds1.html",
  "slieds2.html",
  "slieds3.html",
  "slieds4.html",
  "slieds5.html",
  "slieds6.html",
  "slieds9.html",
];

let current = 0;
let touchStartX = 0;

function showSlide() {
  document.getElementById("slide").src = slides[current];
}

function resize() {
  const scaleX = window.innerWidth / 1280;
  const scaleY = window.innerHeight / 720;
  const scale = Math.min(scaleX, scaleY);

  const stage = document.getElementById("stage");
  stage.style.transform = `scale(${scale})`;
  stage.style.marginLeft = `${(window.innerWidth - 1280 * scale) / 2}px`;
  stage.style.marginTop  = `${(window.innerHeight - 720 * scale) / 2}px`;
}

window.addEventListener("resize", resize);
resize();

/*PC*/
document.addEventListener("keydown", e => {
  if (e.key === "ArrowRight") {
    current = Math.min(current + 1, slides.length - 1);
    showSlide();
  }
  if (e.key === "ArrowLeft") {
    current = Math.max(current - 1, 0);
    showSlide();
  }
});

/*スマホ*/
document.addEventListener("touchstart", e => {
  touchStartX = e.changedTouches[0].screenX;
});

document.addEventListener("touchend", e => {
  const diff = touchStartX - e.changedTouches[0].screenX;
  if (Math.abs(diff) < 50) return;

  if (diff > 0) {
    current = Math.min(current + 1, slides.length - 1);
  } else {
    current = Math.max(current - 1, 0);
  }
  showSlide();
});

/*フルスク*/
function toggleFullscreen() {
  const elem = document.documentElement;

  if (!document.fullscreenElement &&
      !document.webkitFullscreenElement) {

    if (elem.requestFullscreen) {
      elem.requestFullscreen();
    } else if (elem.webkitRequestFullscreen) {
      elem.webkitRequestFullscreen();
    }
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    }
  }
}
</script>

</body>
</html>